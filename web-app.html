<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MultiTrack Player - Professional DAW</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: #0f0f0f;
            color: #ffffff;
            height: 100vh;
            overflow: hidden;
        }
        
        /* Top Bar */
        .top-bar {
            background: #1a1a1a;
            height: 60px;
            display: flex;
            align-items: center;
            padding: 0 20px;
            border-bottom: 1px solid #333;
        }
        
        .master-btn {
            background: #ffffff;
            color: #000;
            border: none;
            padding: 8px 16px;
            border-radius: 4px;
            font-weight: bold;
            margin-right: 20px;
        }
        
        .transport-controls {
            display: flex;
            gap: 10px;
            margin-right: 30px;
        }
        
        .transport-btn {
            background: #333;
            color: white;
            border: none;
            width: 40px;
            height: 40px;
            border-radius: 20px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 16px;
        }
        
        .transport-btn:hover {
            background: #444;
        }
        
        .transport-btn.active {
            background: #007AFF;
        }
        
        .time-display {
            display: flex;
            align-items: center;
            gap: 20px;
            margin-left: auto;
            margin-right: 30px;
        }
        
        .time-info {
            font-size: 14px;
            color: #ccc;
        }
        
        .bpm-display {
            background: #333;
            padding: 8px 12px;
            border-radius: 4px;
            font-weight: bold;
        }
        
        .key-display {
            background: #333;
            padding: 8px 12px;
            border-radius: 4px;
            font-weight: bold;
        }
        
        .midi-indicators {
            display: flex;
            gap: 10px;
            margin-right: 20px;
        }
        
        .midi-indicator {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: #333;
        }
        
        .midi-indicator.active {
            background: #00ff00;
        }
        
        .settings-btn {
            background: none;
            border: none;
            color: #ccc;
            font-size: 20px;
            cursor: pointer;
        }
        
        /* Main Content */
        .main-content {
            display: flex;
            height: calc(100vh - 60px);
        }
        
        
        /* Mixer Section */
        .mixer-section {
            width: 300px;
            background: #1a1a1a;
            border-right: 1px solid #333;
            padding: 20px;
            overflow-y: auto;
        }
        
        .mixer-title {
            font-size: 18px;
            font-weight: bold;
            margin-bottom: 20px;
            color: #fff;
        }
        
        .tracks-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 15px;
        }
        
        .track-channel {
            background: #222;
            border-radius: 8px;
            padding: 10px;
            text-align: center;
        }
        
        .track-name {
            font-size: 10px;
            color: #ccc;
            margin-bottom: 10px;
            height: 30px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .fader-container {
            height: 120px;
            position: relative;
            margin-bottom: 10px;
        }
        
        .fader-track {
            width: 20px;
            height: 100%;
            background: #333;
            border-radius: 10px;
            position: relative;
            margin: 0 auto;
        }
        
        .fader-thumb {
            width: 24px;
            height: 8px;
            background: #007AFF;
            border-radius: 4px;
            position: absolute;
            left: -2px;
            cursor: pointer;
            transition: background 0.2s;
        }
        
        .fader-thumb:hover {
            background: #0056CC;
        }
        
        .fader-level {
            position: absolute;
            bottom: 0;
            width: 100%;
            background: linear-gradient(to top, #ff0000 0%, #ffff00 50%, #00ff00 100%);
            border-radius: 0 0 10px 10px;
            transition: height 0.1s;
        }
        
        .track-controls {
            display: flex;
            gap: 5px;
            justify-content: center;
        }
        
        .track-control-btn {
            width: 25px;
            height: 25px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 10px;
            font-weight: bold;
        }
        
        .mute-btn {
            background: #333;
            color: white;
        }
        
        .mute-btn.active {
            background: #ff0000;
        }
        
        .solo-btn {
            background: #333;
            color: white;
        }
        
        .solo-btn.active {
            background: #ffff00;
            color: #000;
        }
        
        /* Right Panel */
        .right-panel {
            width: 350px;
            background: #1a1a1a;
            display: flex;
            flex-direction: column;
        }
        
        .setlist-section {
            flex: 1;
            padding: 20px;
            border-bottom: 1px solid #333;
        }
        
        .setlist-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }
        
        .setlist-title {
            font-size: 16px;
            font-weight: bold;
            color: #fff;
        }
        
        .setlist-btn {
            background: #007AFF;
            color: white;
            border: none;
            padding: 6px 12px;
            border-radius: 4px;
            font-size: 12px;
            cursor: pointer;
        }
        
        .sync-btn {
            background: #333;
            color: white;
            border: none;
            padding: 6px 12px;
            border-radius: 4px;
            font-size: 12px;
            cursor: pointer;
        }
        
        .song-list {
            max-height: 300px;
            overflow-y: auto;
        }
        
        .song-item {
            display: flex;
            align-items: center;
            padding: 10px;
            border-radius: 6px;
            margin-bottom: 5px;
            background: #222;
            cursor: pointer;
        }
        
        .song-item:hover {
            background: #333;
        }
        
        .song-number {
            width: 20px;
            text-align: center;
            font-weight: bold;
            margin-right: 10px;
        }
        
        .song-cover {
            width: 40px;
            height: 40px;
            background: #444;
            border-radius: 4px;
            margin-right: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 12px;
        }
        
        .song-info {
            flex: 1;
        }
        
        .song-title {
            font-size: 12px;
            font-weight: bold;
            margin-bottom: 2px;
        }
        
        .song-artist {
            font-size: 10px;
            color: #888;
        }
        
        .song-key {
            background: #333;
            padding: 2px 6px;
            border-radius: 3px;
            font-size: 10px;
            margin-right: 5px;
        }
        
        .song-bpm {
            background: #333;
            padding: 2px 6px;
            border-radius: 3px;
            font-size: 10px;
            margin-right: 5px;
        }
        
        /* Library Section */
        .library-section {
            flex: 1;
            padding: 20px;
        }
        
        .library-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }
        
        .library-title {
            font-size: 16px;
            font-weight: bold;
            color: #fff;
        }
        
        .edit-btn {
            background: #333;
            color: white;
            border: none;
            padding: 6px 12px;
            border-radius: 4px;
            font-size: 12px;
            cursor: pointer;
        }
        
        .library-item {
            background: #222;
            padding: 10px;
            border-radius: 6px;
            margin-bottom: 10px;
        }
        
        .library-item-title {
            font-size: 12px;
            font-weight: bold;
            margin-bottom: 5px;
        }
        
        .library-item-url {
            font-size: 10px;
            color: #888;
            margin-bottom: 10px;
        }
        
        .library-controls {
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .waveform-icon {
            width: 20px;
            height: 20px;
            background: #444;
            border-radius: 2px;
        }
        
        .power-btn {
            background: #333;
            color: white;
            border: none;
            padding: 4px 8px;
            border-radius: 3px;
            font-size: 10px;
            cursor: pointer;
        }
        
        .power-btn.active {
            background: #00ff00;
            color: #000;
        }
        
        .pads-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 5px;
            margin-top: 15px;
        }
        
        .pad-btn {
            background: #333;
            color: white;
            border: none;
            padding: 15px 5px;
            border-radius: 4px;
            font-size: 12px;
            font-weight: bold;
            cursor: pointer;
            transition: background 0.2s;
        }
        
        .pad-btn:hover {
            background: #444;
        }
        
        .pad-btn.active {
            background: #007AFF;
        }
        
        .library-fader {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-top: 15px;
        }
        
        .library-fader-container {
            flex: 1;
            height: 80px;
            position: relative;
        }
        
        .library-fader-track {
            width: 15px;
            height: 100%;
            background: #333;
            border-radius: 8px;
            position: relative;
            margin: 0 auto;
        }
        
        .library-fader-thumb {
            width: 20px;
            height: 6px;
            background: #007AFF;
            border-radius: 3px;
            position: absolute;
            left: -2.5px;
            cursor: pointer;
        }
        
        .library-fader-level {
            position: absolute;
            bottom: 0;
            width: 100%;
            background: linear-gradient(to top, #ff0000 0%, #ffff00 50%, #00ff00 100%);
            border-radius: 0 0 8px 8px;
        }
        
        .library-controls-bottom {
            display: flex;
            flex-direction: column;
            gap: 5px;
        }
        
        .library-mute-btn, .library-solo-btn {
            width: 20px;
            height: 20px;
            border: none;
            border-radius: 3px;
            cursor: pointer;
            font-size: 8px;
            font-weight: bold;
            background: #333;
            color: white;
        }
        
        .library-mute-btn.active {
            background: #ff0000;
        }
        
        .library-solo-btn.active {
            background: #ffff00;
            color: #000;
        }
    </style>
</head>
<body>
    <!-- Top Bar -->
    <div class="top-bar">
        <button class="master-btn">MASTER</button>
        
        <div class="transport-controls">
            <button class="transport-btn" onclick="rewind()">⏮</button>
            <button class="transport-btn" id="playBtn" onclick="togglePlay()">▶</button>
            <button class="transport-btn" onclick="fastForward()">⏭</button>
            <button class="transport-btn" onclick="toggleLoop()">🔄</button>
            <button class="transport-btn" onclick="record()">⏺</button>
        </div>
        
        <div class="time-display">
            <div class="time-info">
                <span id="currentTime">02:03</span> / <span id="totalTime">04:00</span>
            </div>
            <div class="bpm-display" id="bpmDisplay">128 BPM</div>
            <div class="key-display" id="keyDisplay">C</div>
        </div>
        
        <div class="midi-indicators">
            <div class="midi-indicator" id="midiIn"></div>
            <div class="midi-indicator" id="midiOut"></div>
        </div>
        
        <button class="settings-btn" onclick="openSettings()">⚙️</button>
    </div>
    
    <!-- Main Content -->
    <div class="main-content">
        <!-- Mixer Section -->
        <div class="mixer-section">
            <div class="mixer-title">MIXER</div>
            <div class="tracks-grid" id="tracksGrid">
                <!-- Tracks will be generated here -->
            </div>
        </div>
        
        <!-- Right Panel -->
        <div class="right-panel">
            <!-- Setlist Section -->
            <div class="setlist-section">
                <div class="setlist-header">
                    <div class="setlist-title">Sunday Setlist 20 March</div>
                    <div>
                        <button class="setlist-btn">Setlists</button>
                        <button class="sync-btn">Sync</button>
                    </div>
                </div>
                
                <div class="song-list" id="songList">
                    <!-- Songs will be generated here -->
                </div>
            </div>
            
            <!-- Library Section -->
            <div class="library-section">
                <div class="library-header">
                    <div class="library-title">+ Library</div>
                    <button class="edit-btn">✏️ Edit setlist</button>
                </div>
                
                <div class="library-item">
                    <div class="library-item-title">Fundamental Ambient Pad</div>
                    <div class="library-item-url">Loopcommunity.com</div>
                    <div class="library-controls">
                        <div class="waveform-icon"></div>
                        <button class="power-btn" id="libraryPower">ON</button>
                    </div>
                </div>
                
                <div class="pads-grid" id="padsGrid">
                    <!-- Pads will be generated here -->
                </div>
                
                <div class="library-fader">
                    <div class="library-fader-container">
                        <div class="library-fader-track">
                            <div class="library-fader-thumb" style="bottom: 60%;"></div>
                            <div class="library-fader-level" style="height: 60%;"></div>
                        </div>
                    </div>
                    <div class="library-controls-bottom">
                        <button class="library-mute-btn">M</button>
                        <button class="library-solo-btn">S</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        let tracks = [];
        let isPlaying = false;
        let currentBPM = 128;
        let currentKey = 'C';
        let currentTime = 0;
        let totalTime = 240; // 4 minutes in seconds
        
        // Initialize the application
        function init() {
            generateTracks();
            generateSongs();
            generatePads();
            startTimeUpdate();
        }
        
        // Transport Controls
        function togglePlay() {
            isPlaying = !isPlaying;
            const playBtn = document.getElementById('playBtn');
            playBtn.textContent = isPlaying ? '⏸' : '▶';
            playBtn.classList.toggle('active', isPlaying);
        }
        
        function rewind() {
            currentTime = 0;
            updateTimeDisplay();
        }
        
        function fastForward() {
            currentTime = totalTime;
            updateTimeDisplay();
        }
        
        function toggleLoop() {
            // Loop functionality
            console.log('Loop toggled');
        }
        
        function record() {
            // Record functionality
            console.log('Recording...');
        }
        
        function openSettings() {
            alert('⚙️ Configuración\n\n• Audio Settings\n• MIDI Settings\n• Display Settings\n• Export Settings');
        }
        
        // Time Management
        function startTimeUpdate() {
            setInterval(() => {
                if (isPlaying) {
                    currentTime += 0.1;
                    if (currentTime >= totalTime) {
                        currentTime = 0;
                    }
                    updateTimeDisplay();
                }
            }, 100);
        }
        
        function updateTimeDisplay() {
            const currentTimeStr = formatTime(currentTime);
            const totalTimeStr = formatTime(totalTime);
            document.getElementById('currentTime').textContent = currentTimeStr;
            document.getElementById('totalTime').textContent = totalTimeStr;
        }
        
        function formatTime(seconds) {
            const mins = Math.floor(seconds / 60);
            const secs = Math.floor(seconds % 60);
            return `${mins.toString().padStart(2, '0')}:${secs.toString().padStart(2, '0')}`;
        }
        
        // Track Management
        function generateTracks() {
            const trackNames = [
                'Clicks', 'Cues', 'Drums 1', 'Drums 2', 'Warm pad',
                'Guitar 1', 'Vocals 1', 'Vocals 2', 'Vocals 3',
                'Synthesizer 1', 'Synthesizer 2', 'Bass guitar 1',
                'Guitar 2', 'Guitar 3', 'Bass guitar 2',
                'Back vocals 1', 'Violin 1', 'Violin 2'
            ];
            
            tracks = trackNames.map((name, index) => ({
                id: index + 1,
                name: name,
                volume: Math.random() * 0.8 + 0.2,
                muted: false,
                solo: false
            }));
            
            updateTracksGrid();
        }
        
        function updateTracksGrid() {
            const tracksGrid = document.getElementById('tracksGrid');
            tracksGrid.innerHTML = '';
            
            tracks.forEach(track => {
                const trackChannel = document.createElement('div');
                trackChannel.className = 'track-channel';
                
                const volumePercent = Math.round(track.volume * 100);
                const faderHeight = track.volume * 100;
                
                trackChannel.innerHTML = `
                        <div class="track-name">${track.name}</div>
                    <div class="fader-container">
                        <div class="fader-track">
                            <div class="fader-thumb" style="bottom: ${faderHeight}%;" 
                                 onmousedown="startFaderDrag(${track.id}, event)"></div>
                            <div class="fader-level" style="height: ${faderHeight}%;"></div>
                        </div>
                    </div>
                    <div class="track-controls">
                        <button class="track-control-btn mute-btn ${track.muted ? 'active' : ''}" 
                                onclick="toggleMute(${track.id})">M</button>
                        <button class="track-control-btn solo-btn ${track.solo ? 'active' : ''}" 
                                onclick="toggleSolo(${track.id})">S</button>
                    </div>
                `;
                
                tracksGrid.appendChild(trackChannel);
            });
        }
        
        function startFaderDrag(trackId, event) {
            const track = tracks.find(t => t.id === trackId);
            if (!track) return;
            
            const faderTrack = event.target.parentElement;
            const rect = faderTrack.getBoundingClientRect();
            
            function updateFader(e) {
                const y = e.clientY - rect.top;
                const percentage = Math.max(0, Math.min(100, 100 - (y / rect.height) * 100));
                track.volume = percentage / 100;
                
                const thumb = faderTrack.querySelector('.fader-thumb');
                const level = faderTrack.querySelector('.fader-level');
                thumb.style.bottom = percentage + '%';
                level.style.height = percentage + '%';
            }
            
            function stopDrag() {
                document.removeEventListener('mousemove', updateFader);
                document.removeEventListener('mouseup', stopDrag);
            }
            
            document.addEventListener('mousemove', updateFader);
            document.addEventListener('mouseup', stopDrag);
        }
        
        function toggleMute(trackId) {
            const track = tracks.find(t => t.id === trackId);
            if (track) {
                track.muted = !track.muted;
                updateTracksGrid();
            }
        }
        
        function toggleSolo(trackId) {
            const track = tracks.find(t => t.id === trackId);
            if (track) {
                track.solo = !track.solo;
                updateTracksGrid();
            }
        }
        
        // Song Management
        function generateSongs() {
            const songs = [
                { number: 3, title: 'I speak Jesus (Live at Chic...', artist: 'Original version', key: 'E', bpm: 74 },
                { number: 4, title: 'Praise', artist: 'Elevation Worship', key: 'A', bpm: 128 },
                { number: 5, title: 'Goodness of God', artist: 'Bethel Music', key: 'Ab', bpm: 127 },
                { number: 6, title: 'Way Maker', artist: 'Sinach', key: 'C', bpm: 120 },
                { number: 7, title: 'What a Beautiful Name', artist: 'Hillsong Worship', key: 'B', bpm: 72 },
                { number: 8, title: 'Oceans', artist: 'Hillsong United', key: 'C', bpm: 102 }
            ];
            
            const songList = document.getElementById('songList');
            songList.innerHTML = '';
            
            songs.forEach(song => {
                const songItem = document.createElement('div');
                songItem.className = 'song-item';
                songItem.innerHTML = `
                    <div class="song-number">${song.number}</div>
                    <div class="song-cover">🎵</div>
                    <div class="song-info">
                        <div class="song-title">${song.title}</div>
                        <div class="song-artist">${song.artist}</div>
                    </div>
                    <div class="song-key">${song.key}</div>
                    <div class="song-bpm">${song.bpm}</div>
                    <div style="font-size: 12px;">📊</div>
                `;
                songList.appendChild(songItem);
            });
        }
        
        // Pad Management
        function generatePads() {
            const padNotes = ['Db', 'Eb', 'Gb', 'Ab', 'Bb', 'B', 'C', 'D', 'E', 'F', 'G', 'A'];
            const padsGrid = document.getElementById('padsGrid');
            padsGrid.innerHTML = '';
            
            padNotes.forEach(note => {
                const padBtn = document.createElement('button');
                padBtn.className = 'pad-btn';
                padBtn.textContent = note;
                padBtn.onclick = () => togglePad(note);
                padsGrid.appendChild(padBtn);
            });
        }
        
        function togglePad(note) {
            const pad = event.target;
            pad.classList.toggle('active');
            console.log(`Pad ${note} ${pad.classList.contains('active') ? 'activated' : 'deactivated'}`);
        }
        
        // Initialize when page loads
        document.addEventListener('DOMContentLoaded', init);
    </script>
</body>
</html>

